{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alvin\\\\Documents\\\\GitHub\\\\Tugas_modul5_kel38\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport { createContext, useEffect, useReducer, useState } from \"react\";\nimport axios from \"axios\";\nimport Selector from \"./Components/Selector\";\nimport Sorter from \"./Components/Sorter\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialProductState = {\n  products: [],\n  selectedProducts: [],\n  categories: [],\n  selectedCategory: null\n};\n\nconst productReducer = (state, action) => {\n  switch (action.type) {\n    case \"setProducts\":\n      return { ...state,\n        products: action.payload\n      };\n\n    case \"setCategory\":\n      return { ...state,\n        categories: action.payload,\n        selectedCategory: action.payload[0],\n        selectedProducts: state.products.filter(product => product.category === action.payload[0])\n      };\n\n    case \"changeCategory\":\n      return { ...state,\n        selectedProducts: state.products.filter(product => product.category === action.payload),\n        selectedCategory: action.payload\n      };\n\n    default:\n      throw new Error();\n  }\n};\n\nexport const ProductStateContext = /*#__PURE__*/createContext();\nexport const ProductDispatchContext = /*#__PURE__*/createContext();\nexport const FetchingContext = /*#__PURE__*/createContext(false);\n\nconst App = () => {\n  _s();\n\n  const [productState, productDispatch] = useReducer(productReducer, initialProductState);\n  const [isFetching, setIsFetching] = useState(false);\n  useEffect(() => {\n    setIsFetching(true);\n    axios({\n      url: \"http://localhost:3000/products/\",\n      method: \"get\",\n      headers: {\n        accept: \"*/*\"\n      }\n    }).then(data => {\n      productDispatch({\n        type: \"setProducts\",\n        payload: data.data\n      });\n      return axios({\n        url: \"http://localhost:3000/categories/\",\n        method: \"get\",\n        headers: {\n          accept: \"*/*\"\n        }\n      });\n    }).then(data => {\n      productDispatch({\n        type: \"setCategory\",\n        payload: data.data\n      });\n      setIsFetching(false);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(ProductDispatchContext.Provider, {\n      value: productDispatch,\n      children: /*#__PURE__*/_jsxDEV(ProductStateContext.Provider, {\n        value: productState,\n        children: /*#__PURE__*/_jsxDEV(FetchingContext.Provider, {\n          value: isFetching,\n          children: [/*#__PURE__*/_jsxDEV(Selector, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Sorter, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"z9aMSSU7oUjavSmgZkDjPOo1/xI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/alvin/Documents/GitHub/Tugas_modul5_kel38/src/App.js"],"names":["createContext","useEffect","useReducer","useState","axios","Selector","Sorter","initialProductState","products","selectedProducts","categories","selectedCategory","productReducer","state","action","type","payload","filter","product","category","Error","ProductStateContext","ProductDispatchContext","FetchingContext","App","productState","productDispatch","isFetching","setIsFetching","url","method","headers","accept","then","data"],"mappings":"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","sourcesContent":["import \"./App.css\";\r\nimport { createContext, useEffect, useReducer, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Selector from \"./Components/Selector\";\r\nimport Sorter from \"./Components/Sorter\";\r\n\r\nconst initialProductState = {\r\n  products: [],\r\n  selectedProducts: [],\r\n  categories: [],\r\n  selectedCategory: null,\r\n};\r\n\r\nconst productReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"setProducts\":\r\n      return { ...state, products: action.payload };\r\n    case \"setCategory\":\r\n      return {\r\n        ...state,\r\n        categories: action.payload,\r\n        selectedCategory: action.payload[0],\r\n        selectedProducts: state.products.filter(\r\n          (product) => product.category === action.payload[0]\r\n        ),\r\n      };\r\n    case \"changeCategory\":\r\n      return {\r\n        ...state,\r\n        selectedProducts: state.products.filter(\r\n          (product) => product.category === action.payload\r\n        ),\r\n        selectedCategory: action.payload,\r\n      };\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n\r\nexport const ProductStateContext = createContext();\r\nexport const ProductDispatchContext = createContext();\r\nexport const FetchingContext = createContext(false);\r\n\r\nconst App = () => {\r\n  const [productState, productDispatch] = useReducer(\r\n    productReducer,\r\n    initialProductState\r\n  );\r\n  const [isFetching, setIsFetching] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsFetching(true);\r\n    axios({\r\n      url: \"http://localhost:3000/products/\",\r\n      method: \"get\",\r\n      headers: {\r\n        accept: \"*/*\",\r\n      },\r\n    })\r\n      .then((data) => {\r\n        productDispatch({ type: \"setProducts\", payload: data.data });\r\n        return axios({\r\n          url: \"http://localhost:3000/categories/\",\r\n          method: \"get\",\r\n          headers: {\r\n            accept: \"*/*\",\r\n          },\r\n        });\r\n      })\r\n      .then((data) => {\r\n        productDispatch({ type: \"setCategory\", payload: data.data });\r\n        setIsFetching(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <ProductDispatchContext.Provider value={productDispatch}>\r\n        <ProductStateContext.Provider value={productState}>\r\n          <FetchingContext.Provider value={isFetching}>\r\n            <Selector />\r\n            <Sorter />\r\n          </FetchingContext.Provider>\r\n        </ProductStateContext.Provider>\r\n      </ProductDispatchContext.Provider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}